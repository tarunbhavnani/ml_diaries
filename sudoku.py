# -*- coding: utf-8 -*-
"""
Created on Tue Jan 16 12:15:22 2024

@author: tarun
"""

board = [["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]

board=[["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]

Output: [["5","3","4","6","7","8","9","1","2"],["6","7","2","1","9","5","3","4","8"],["1","9","8","3","4","2","5","6","7"],["8","5","9","7","6","1","4","2","3"],["4","2","6","8","5","3","7","9","1"],["7","1","3","9","2","4","8","5","6"],["9","6","1","5","3","7","2","8","4"],["2","8","7","4","1","9","6","3","5"],["3","4","5","2","8","6","1","7","9"]]


import numpy as np


nm= np.asarray(board)

for i in range(nm.shape[0]):
    for j in range(nm.shape[1]):
        if nm[i,j]==".":
            nm[i,j]=0
        else:
            pass
nm= nm.astype(int)                   


while np.count_nonzero(nm == 0)>0:
    for i in range(0,9,3):
        for j in range(0,9,3):
            print(i,j)
            blk= nm[i:i+3, j:j+3]
            blk_vals=[i for i in blk.reshape(-1)]
            
            for l in range(0,3):
                for m in range(0,3):
                    print(i,j,l,m)
                    if blk[l,m]==0:
                        length = [z for z in nm[(i + l) % 9, :]]
                        height = [z for z in nm[:, (j + m) % 9]]
                        
                        permissible_vals= [i for i in range(1,10) if i not in blk_vals and i not in length and i not in height]
                        
                        if len(permissible_vals)==1:
                            print(i,j,l,m)
                            nm[i+l, j+m]= permissible_vals[0]
                            blk= nm[i:i+3, j:j+3]
                            blk_vals= [i for i in blk.reshape(-1)]
                            
            
